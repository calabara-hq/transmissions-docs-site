---
title: mintTokenBatchWithERC20
description: Mint a batch of channel tokens with ERC20.
---

This function will revert under the following conditions:
- The channel does not allow ERC20 minting.
- The caller does not fulfill any of the channel `minterLogic[]` rules.
- The caller does not have the required ERC20 balance to mint the tokens.
- The caller has not approved the channel to spend the required ERC20 balance.

import UplinkConfig from '/snippets/uplink-js-config.mdx'

## Usage
<CodeGroup>
```typescript app.ts
import { uplinkClient } from './config'

const { event } = await uplinkClient.mintTokenBatchWithERC20({
    channelAddress: '0x123...',
    to: '0x123...',
    tokenIds: [1n, 2n, 3n],
    amounts: [1n, 1n, 1n],
    mintReferral: '0x123...',
    data: '0x00..',
})
```
<UplinkConfig/>
</CodeGroup>

## Returns
```typescript
{ 
  event: Log 
}
```

## Parameters

### channelAddress
- **type**: `string`

The target channel address
```typescript
const { event } = await uplinkClient.mintTokenBatchWithERC20({
  channelAddress: '0x1234567890123456789012345678901234567890',
  ...
})
```

### to
- **type**: `string`

The recipient of the minted tokens
```typescript
const { event } = await uplinkClient.mintTokenBatchWithERC20
({
  to: '0x1234567890123456789012345678901234567890',
  ...
})
```

### tokenIds
- **type**: `bigint[]`

The token IDs to mint
```typescript
const { event } = await uplinkClient.mintTokenBatchWithERC20({
  tokenIds: [1n, 2n, 3n],
  ...
})
```

### amounts
- **type**: `bigint[]`

The amounts of each token to mint
```typescript
const { event } = await uplinkClient.mintTokenBatchWithERC20({
  amounts: [1n, 1n, 1n],
  ...
})
```

### mintReferral (optional)
- **type**: `string`

The referral address for the mint
```typescript
const { event } = await uplinkClient.mintTokenBatchWithERC20({
  mintReferral: '0x1234567890123456789012345678901234567890',
  ...
})
```

### data (optional)

- **type**: `string`

Additional data for the mint
```typescript
const { event } = await uplinkClient.mintTokenBatchWithERC20
({
  data: '0x00...',
  ...
})
```

### transactionOverrides (optional)
- **type**: `TransactionOverrides`
```typescript
type TransactionOverrides = {
  accessList?: AccessList
  gas?: bigint
  maxFeePerGas?: bigint
  maxPriorityFeePerGas?: bigint
  nonce?: number
  value?: bigint
}
```

Overrides for the transaction

```typescript
const { event } = await uplinkClient.mintTokenBatchWithERC20({
    ...
    transactionOverrides: {
        gas: 1000000nn
    }
})
```
## Calldata

generate calldata for the transaction

```typescript
const { address, data } = await uplinkClient.calldata.mintTokenBatchWithERC20({...})
```

### Returns 
```typescript
{
    address: string, // address of the target contract
    data: string // calldata for the transaction
}
```

## Gas Estimation

Estimate gas for the transaction

```typescript
const gas = await uplinkClient.estimateGas.mintTokenBatchWithERC20({...})
```

### Returns
```typescript
bigint // gas estimate in wei
```
